function formGridFilter(n){var t="";return n.find(":dbf").each(function(){if($(this).val()!=""&&$(this).is("input")||$(this).val()!="-1"&&$(this).is("select")){var n=$(this).attr("doperator")==null?" LIKE ":$(this).attr("doperator"),i=$(this).attr("dvalue")==null?"N'%"+$(this).val()+"%'":$(this).attr("dvalue").replace("@val",$(this).val());t+="("+$(this).attr("dbf")+" "+n+" "+i+")"}}),t=t.replaceAll(")(",") AND (")}function gridPageChange(n,t,i){var u=n||window.event,r=$(t).parents().filter(".eon_grid[IDGrid]");arguments.length==4?r.find(".hid_page").val(parseInt(r.find(".hid_page").val())+i):r.find(".hid_page").val(i);grid_refresh(r,u)}function initGrid(n,t){if(t||n.eInit(),n.find(".thead .grid_cell:not(.column0):not(.kolona999999)").click(function(){if(n.find(".hid_page").val("1"),$(this).hasClass("sortASC")){n.find(".thead .grid_cell").removeClass("sortASC sortDESC");$(this).addClass("sortDESC");n.find(".hid_sort").val($(this).attr("dbf")+" DESC");grid_refresh(n);return}if($(this).hasClass("sortDESC")){n.find(".thead .grid_cell").removeClass("sortASC sortDESC");$(this).addClass("sortASC");n.find(".hid_sort").val($(this).attr("dbf")+" ASC");grid_refresh(n);return}n.find(".thead .grid_cell").removeClass("sortASC sortDESC");$(this).addClass("sortASC");n.find(".hid_sort").val($(this).attr("dbf")+" ASC");grid_refresh(n)}),gridMenuItems!=""){var i=n.find(".grid_menu_template").html().replace("@menuitems",gridMenuItems);n.find(".tbody .tr").each(function(){$(this).find(".kolona999999").html(i)})}n.find(".thead .grid_cell.column0 label.checkbox").click(function(){$(this).vrednost()=="0"?n.find(".tbody .column0 label.checkbox.checked").trigger("click"):n.find(".tbody .column0 label.checkbox:not(.checked)").trigger("click")});n.find(".tbody div.tr .grid_cell:first-child .relative").each(function(){$(this).attr("rb",n.find(".grid_container .tbody div.tr .grid_cell:first-child .relative").index($(this))+1)});n.find(".tfilter .grid_cell input").focus(function(){$(this)[0].preFocusValue=$(this).val()});n.find(".tfilter .grid_cell input").blur(function(){$(this).val()!=$(this)[0].preFocusValue&&(n.find(".hid_page").val("1"),grid_refresh(n))});n.find(".tfilter .grid_cell input").keypress(function(n){var t=n?n:window.event;(t.which==13||t.keyCode==13)&&($(this).trigger("blur"),$(this).focus())});n.find(".filterbtn").on("click",function(){var n=$(this).parents().filter(".eon_grid").find(".tfilter");$(this).find("a").toggleClass("entypo-check").toggleClass("entypo-cross");n.toggleClass("limited_height");n.hasClass("limited_height")?n.fadeOut(500):n.fadeIn(500)});n.find(".exportexcel").on("click",function(t){var u,i,r;if(!(n.find(".grid_container.grid_loading, .grid_container.exporting").length>0)){if(parseFloat(n.find(".grid_ukupno_zapisa").text())>1e6){alert("U excel ne možete eksportovati više od milion zapisa.");return}u=t||window.event;n.find(".grid_container").addClass("exporting");n.find(".grid_container .exporting").animate({opacity:"1"},500);i={exportexcel:"1",filter:n.find(".hid_filter").val(),sort:n.find(".hid_sort").val()};r=function(t){window.open(t,"_self");n.find(".grid_container").removeClass("exporting")};$(".hid_clientMode").val()=="0"?ajaxPost(i,r,null,null,u):executeUCMethod("wuc_Grid?DBID="+n.find(".hid_idgrid").val()+"&ID="+n.attr("idgrid")+"&PageSize="+n.find(".hid_pagesize").val()+"&ClientMode=1","StampajGrid",i,r)}});n.find("label.checkbox").click(function(){$(this).parents().filter(".tr").toggleClass("selected")})}function grid_refresh(n,t){var u,i,f,r;(arguments.length==0&&(n=$(".eon_grid").first()),u=window[n.attr("IDGrid")+"initializing"],u)||(window.obj=n,n.find(".grid_container.grid_loading, .grid_container.exporting").length>0)||(n.find(".thead .column0 label.checkbox").vrednost("0"),i=$(n).attr("idgrid"),n.find(".grid_container").addClass("grid_loading"),n.find(".grid_container .grid_loading").animate({opacity:"1"},500),window[i+"filter"]=n.find(".tfilter"),window[i+"header"]=n.find(".thead"),window[i+"buttons"]=n.find(".tbuttons"),n.find(".hid_filter").val()!=""&&n.find(".hid_pocetniFilter").val()!="0"&&n.find(".hid_pocetniFilter").val("-1"),f=$(".hid_clientMode").val(),r={id_grid:n.attr("idgrid"),grid_refresh:"1",filter:n.find(".hid_filter").val(),sort:n.find(".hid_sort").val(),page:n.find(".hid_page").val(),page_size:n.find(".hid_pagesize").val(),IDPocetniFilter:n.find(".hid_pocetniFilter").val(),IDStalniFilter:n.find(".hid_stalniFilter").val(),multiselect:n.find(".hid_multiselect").val(),Pretraga:n.find(".hid_naprednaPretraga").val()},f=="0"?ajaxPost(r,window["funkcija_"+i],null,null,t):executeUCMethod("wuc_Grid?DBID="+n.find(".hid_idgrid").val()+"&ID="+n.attr("idgrid")+"&PageSize="+n.find(".hid_pagesize").val()+"&ClientMode=1","InitGrid",r,window["funkcija_"+i]))}
/*
//# sourceMappingURL=eon_grid.min.js.map
*/