function ajaxPost(n,t,i,r,u){if(u!=null&&u.preventDefault(),arguments.length==1&&(t=alert),arguments.length==2&&(i="Greška!"),arguments.length==3&&(r=!0),n.toString().indexOf("FormData")>0){$.ajax({type:"POST",contentType:!1,processData:!1,data:n,success:function(n){funkcija(n)},error:function(){notify({rezultat:0,poruka:"Greška pri podizanju fajlova."})}});return}$.ajax({type:"POST",data:n,sls:r,success:function(n){n!=""&&t(n)},error:function(n,t,r){console.log(n);console.log(t);console.log(r);i()}})}function goToTopButton(){var t=520,n=500;$(window).scroll(function(){$(this).scrollTop()>t?$(".back-to-top").fadeIn(n):$(".back-to-top").fadeOut(n)});$(".back-to-top").click(function(t){return t.preventDefault(),$("html, body").animate({scrollTop:0},n),!1})}function popupHide(){$("body > form.form_modal:visible").last().find(".modal-close").trigger("click")}function popup(n){var i,r,t;return $("body").append($(".modal_container.invisible").html()),$("html").css("overflow","hidden"),i=$("body").children().last(),i.attr("id","form_modal"+$("form.form_modal:visible").length),r=$(".modal_inner_container:visible").length-1,i.css("z-index",r+1e4),i.find(".modal-bg").css("opacity","0.8"),t=$(".modal-wrap").last().find(".modal-content"),t.css("max-width",(90-5*r).toString()+"%"),t.find(".modal-close").click(function(){if(n==undefined||n()){var i=$(this).parents().filter(".modal-content"),t=i.parents().filter(".form_modal");$('[vezanZa="'+t.attr("id")+'"]').addClass("flipOutY animated");window.setTimeout(function(){t.find(".modal-bg").css("opacity","0");window.setTimeout(function(){$('[vezanZa="'+t.attr("id")+'"]').remove();t.remove();$(".modal-content:visible").length==0&&$("html").css("overflow","auto")},300)},500);i.addClass("animated bounceOutUp")}}),$(t).addClass("animated bounceInDown"),window.setTimeout(function(){$(".modal-content").stop(!0,!0);$(".modal-content").removeClass("animated bounceInDown")},750),t.find(".uc_container")}function vratiUCRender(n,t,i,r){r.vratiRenderUC=t;r.methodName=i;ajaxPost(r,function(t){n.html(t);n.parent().addClass("loaded")},null,null,null)}function executeUCMethod(n,t,i,r){if(i.toString().indexOf("FormData")>0?(i.append("executeUCMethod",n),i.append("methodName",t)):(i.executeUCMethod=n,i.methodName=t),arguments.length==5){ajaxPost(i,r,null,!0,null);return}ajaxPost(i,r,null,null,null)}function notify(n,t,i){var r={};arguments.length>1&&(r=t);toastr.options={positionClass:"toast-center",timeOut:0,timeOut:1e3,extendedTimeOut:1e3};n.rezultat==0&&toastr.success(n.poruka,"",r);n.rezultat==-1&&toastr.error(n.poruka,"",r);n.rezultat==1&&toastr.info(n.poruka,"",r);n.rezultat==2&&toastr.warning(n.poruka,"",r);i!=undefined&&$(i).append($("#toast-container"))}function showContextMenu(n,t,i){$("body").hasClass("context_menu_active")||($("body").addClass("context_menu_active"),$("body").append(i.html()));var r=$(".context_menu").last();r.hide();r.css("position","absolute");r.css("top",n.pageY);r.css("left",n.pageX);r.fadeIn(400);n||(n=window.event);n.stopPropagation()}function contextMenuListener(n,t){var i=function(n){return $(this).trigger("click"),showContextMenu(n,this,t),event.preventDefault(),!1};n.addEventListener?n.addEventListener("contextmenu",i):n.attachEvent("oncontextmenu",i)}function showPropertyPanel(n,t){if(t){n.remove();return}var r=$("body > .propertyPanel:visible").length,u=$(".propertyPanel.panel"+r),i=r+1;$("body").append(n.clone(!0,!0));cpanel=$("body > .propertyPanel").last().addClass("animated flipInY");cpanel.addClass("panel"+i);i>1&&cpanel.css("top",i*20+"%");$("form.form_modal:visible").length>0?cpanel.attr("vezanZa",$("form.form_modal:visible").last().attr("id")):cpanel.attr("vezanZa","document");initEvents(cpanel);cpanel.draggable()}function vratiSirinuSlike(n,t,i){var f=window.innerWidth/window.innerHeight,r=n/t,u=Math.ceil(window.innerWidth*i);return r<f&&(u=window.innerHeight*i*r),u}function RadioButtonGroup(n,t,i){this.tip="RadioButtons";this.$el=$(n);this.options=t;arguments.length==2&&(i='<label class="radio" val="!id!"><span><\/span>!naziv!<\/label>');this.$el.find("label.radio.template").length>0&&(i=this.$el.find("label.radio.template")[0].outerHTML.replace("template",""));this.label=i;this.init=function(){for(this.$el.html(""),it=0;it<t.length;it++){var n=Utils.replaceKeys(this.label,t[it]);this.$el.append(n)}this.$el.find("label.radio").click(function(){$(this).parent().find("label.radio").removeClass("checked");$(this).parent().hasClass("danger")&&$(this).parent().removeErrorMark();$(this).addClass("checked");$(this).parent().izlaz()})};this.init();this.daLiJeObjekatOvogTipa=function(n){return $(n).hasClass("radio_grupa")};this.vrednost=function(n){if(arguments.length==0){var t=this.$el.find("label.radio.checked");return t.length==0?"":t.attr("val")}return this.$el.find("label.radio").removeClass("checked"),this.$el.find('label.radio[val="'+n+'"]').trigger("click"),this};this.addErrorMark=function(){this.$el.addErrorMark("Nije bas sve kako treba");this.$el.addClass("danger")};this.removeErrorMark=function(){return this.$el.removeMark("error"),this.$el.removeClass("danger"),this.$el};app.addUserControl(this)}function showGridMenu(n,t){var t=$(t),i;if(t.parents().filter(".kolona999999.active").length>0){$(".kolona999999.active").removeClass("active");return}if($(".kolona999999.active").removeClass("active"),i=t.parent().parent().find("ul"),i.is(":visible")){i.hide();return}$(".context_menu:visible").hide();t.parents().filter(".kolona999999").addClass("active");i.show();n||(n=window.event);n.stopPropagation()}(function(){function t(){Function.prototype.bind||(Function.prototype.bind=function(n){if(typeof this!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var r=Array.prototype.slice.call(arguments,1),u=this,t=function(){},i=function(){return u.apply(this instanceof t&&n?this:n,r.concat(Array.prototype.slice.call(arguments)))};return t.prototype=this.prototype,i.prototype=new t,i});this.initEvents=function(n){var n,t;arguments.length==0&&(n=$("body"));$(n).find("label.checkbox, label.toggle").click(function(){$(this).attr("disabled")!="disabled"&&($(this).toggleClass("checked"),$(this).izlaz())});$(n).find("label.checkbox, label.toggle, label.radio").each(function(){$(this).find("span").length==0&&$(this).prepend("<span><\/span>")});$(n).find("input[multiline]").each(function(){$(this).replaceWith(function(){var n={};return $.each($(this)[0].attributes,function(t,i){n[i.nodeName]=i.nodeValue==""?"1":i.nodeValue}),n.text=$(this).text(),$("<textarea ><\/textarea>",n)})});$(n).find("textarea").keyup(function(){$(this).heightAdjust()});$(n).find(".multi.select").each(function(){$(this).html('<select multiple="multiple"> <\/select>');$(this).children().last().select2({tags:!0});$(this).on("select2:select, select2:unselect",function(){$(this).izlaz()})});$(n).find(".select[disabled]").each(function(){$(this).disable()});$(n).find(".input, .select select").blur(function(){$(this).izlaz()});$(n).find(".input, .select select").focus(function(){$(this).hasClass("danger")&&$(this).removeErrorMark()});$(n).find("[obavezan]").each(function(){app.Config.UseMark_Obavezan&&$(this).addMark("obavezan",!0)});$(n).find("[email]").attr("reg","^\\w+[\\w-\\.]*\\@\\w+((-\\w+)|(\\w*))\\.[a-z]{2,3}$");$(n).find(".eon_tab").each(function(){var n=$(this).find(" > .tab_links  > .tablink"),i,t,r;for(n.find("a").click(function(){Utils.tablLinkClick($(this).parent().parent().parent(),$(this).parent().index())}),$(this).append('<div class="tabs"><\/div>'),i=$(this).children().last(),t=0;t<n.length;t++)i.append('<div class="tab" > <\/div>'),r=$(n[t]).attr("sadrzaj"),$(r).appendTo(i.children().last());$(n.find("a")[0]).trigger("click")});$(n).find("[contenteditable]").on("paste",function(n){var t,i;n=n||window.event;n.preventDefault();n=n.originalEvent;t=undefined;window.clipboardData&&window.clipboardData.getData?(t=window.clipboardData.getData("Text"),document.selection&&document.selection.createRange&&(i=document.selection.createRange(),i.pasteHTML&&i.pasteHTML(t))):n.clipboardData&&n.clipboardData.getData&&(t=n.clipboardData.getData("text/plain"),document.execCommand("insertHTML",!1,t))});$(n).find("[contenteditable]").on("change",function(){$(this).text($(this).text())});$(n).find(":not(poruka)[info1]").each(function(){$(this).addInfoMark($(this).attr("info1"),1)});$(n).find(":not(poruka)[info2]").each(function(){$(this).addInfoMark($(this).attr("info2"),2)});t="";$(n).find("[hover]").each(function(){t+='[hover="'+$(this).attr("hover")+'"]:hover:before { color: '+$(this).attr("hover")+"}\n"});$(n).find("[hover_back]").each(function(){t+='[hover_back="'+$(this).attr("hover_back")+'"]:hover:before { background-color: '+$(this).attr("hover_back")+"}\n"});t!=""&&$("body").prepend("<style>"+t+"<\/style>\n\r")};this.checkRegEx=function(n,t){return t==""?!0:(n=new RegExp(n),n.test(t))}.bind(this);this.tablLinkClick=function(n,t){var i=n.find(".tabs .tab.active"),r;(i.length==0&&n.find(".tab:not(:first)").fadeOut(300,function(){n.find(".tab:first").addClass("active");n.find(" > .tab_links .tablink:first").addClass("pressed");return}),i.index()!=t)&&(r=n.find(" > .tab_links .tablink.pressed").first(),$(n.find(" > .tab_links .tablink")[t]).addClass("pressed"),r.removeClass("pressed"),i.removeClass("active").fadeOut(200,function(){i=$(n.find(".tabs .tab")[t]);i.addClass("active").fadeIn(300)}))}.bind(this);this.getKeys=function(n){var t=[];for(var i in n)n.hasOwnProperty(i)&&t.push(i);return t}.bind(this);this.replaceKeys=function(n,t){for(var r=this.getKeys(t),u=n,i=0;i<r.length;i++)u=u.replaceAll("!"+r[i]+"!",t[r[i]]);return u.replaceAll("_src","src")}.bind(this);this.gradientColor=function(n,t,i){var e=parseInt(n.substr(0,2),16),o=parseInt(n.substr(2,2),16),s=parseInt(n.substr(4,2),16),h=parseInt(t.substr(0,2),16),c=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16),a=h-e,v=c-o,y=l-s,r=parseInt(a*i+e).toString(16),u=parseInt(v*i+o).toString(16),f=parseInt(y*i+s).toString(16);return r.length==1&&(r="0"+r),u.length==1&&(u="0"+u),f.length==1&&(f="0"+f),"#"+r+u+f}.bind(this)}function i(){if(this.Config=n,window.app!=null)return app;this.UserControls=[];this.ValidacionaPravila=[];this.addUserControl=function(n){if(n.vrednost==null){console.log("Funkcija vrednost nije implementirana!");return}if(n.daLiJeObjekatOvogTipa==null){console.log("Funkcija pripada nije implementirana!");return}this.UserControls.push(n)};this.vratiUserControlu=function(n){for(var t=0;t<this.UserControls.length;t++)if(this.UserControls[t].daLiJeObjekatOvogTipa(n))return this.UserControls[t];return null}}function r(){this.formComplexValue=function(n,t){for(var f=n.split(","),i="",u=0;u<f.length;u++){var r=$.trim(f[u]).split(" "),e=r[1]=="date"?2:r[1]=="number"?1:0,o=$.trim(r[2]||"")=="desc"?"-":"";i+=t[r[0]]+"@"+e+o+"||"}return i!=""&&(i=(i+"##").replace("||##","")),i};this.sortAsComplex=function(n,t){for(var r=n.sortComplexValue.split("||"),u=t.sortComplexValue.split("||"),i=0,f;r[i]==u[i]&&i<r.length;)i++;return i==r.length?0:(f=r[i].slice(-2),f=="@0")?SortUtils.sortAsCString(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):f=="@1"?SortUtils.sortAsCNumber(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):f=="@2"?SortUtils.sortAsCDate(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):(f=r[i].slice(-3),f=="@0-")?SortUtils.sortAsCStringDesc(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):f=="@1-"?SortUtils.sortAsCNumberDesc(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):f=="@2-"?SortUtils.sortAsCDateDesc(r[i].substring(0,r[i].length-2),u[i].substring(0,u[i].length-2)):void 0};this.sortAsCString=function(n,t){return n>t?1:n<t?-1:0};this.sortAsCNumber=function(n,t){return parseFloat(n)>parseFloat(t)?1:parseFloat(n)<parseFloat(t)?-1:0};this.sortAsCDate=function(n,t){return new Date(n)>new Date(t)?1:new Date(n)<new Date(t)?-1:0};this.sortAsCStringDesc=function(n,t){return n>t?-1:n<t?1:0};this.sortAsCNumberDesc=function(n,t){return parseFloat(n)>parseFloat(t)?-1:parseFloat(n)<parseFloat(t)?1:0};this.sortAsCDateDesc=function(n,t){return new Date(n)>new Date(t)?-1:new Date(n)<new Date(t)?1:0}}function u(){this.LITemplate="";this.ULTemplate="";this.initTemplates=function(n,t){this.LITemplate=n;this.ULTemplate=t};this.getKeys=function(n){return Utils.getKeys(n)};this.replaceKeys=function(n,t){return Utils.replaceKeys(n,t)};this.appendULNode=function(n,t){var i=this.replaceKeys(this.ULTemplate,t);n.append(i)};this.appendLINode=function(n,t){var i=this.replaceKeys(this.LITemplate,t);n.append(i);n.children().last().find("label[dvecifre], span[dvecifre], div[dvecifre]").each(function(){$(this).text(formatNumber($(this).text(),2))});n.children().last().find("input[dvecifre]").each(function(){$(this).val(formatNumber($(this).attr("old_val"),2))});n.children().last().find("label[tricifre], span[tricifre], div[tricifre]").each(function(){$(this).text(formatNumber($(this).text(),3))});n.children().last().find("input[tricifre]").each(function(){$(this).val(formatNumber($(this).attr("old_val"),3))})};this.GenerateUL=function(n,t,i){var e,f,u,r;for(arguments.length==2&&(i=!0),e=!1,f=0;f<t.length;f++)if(u=t[f],r=$(n),!(r.find('li[idd="'+u.id+'"]').length>0)){if(u.parent=="0"||u.parent==u.id)r.children().length==0&&i&&this.appendULNode(r,u),i&&(r=$(r).find("> ul[idd]").first());else{if(r=$(n).find('li[idd="'+u.parent+'"]'),r.length==0){e=!0;continue}r.find("> ul[idd]").length==0&&(jsnode2=t.filtriraj("id",u.parent)[0],this.appendULNode(r,jsnode2));r=$(r).find("> ul[idd]")}this.appendLINode(r,u)}e&&this.GenerateUL(n,t)}}var n={UseMark_Obavezan:!0,UseMark_ValidInput:!1,UseMark_PromenaVrednosti:!1,ErrorPoruke_StalnoVidljive:!0,ErrorPoruke:{polje_obavezno:"Polje je obavezno",neocekivani_format:"Polje nije u očekivanom formatu"}};$.extend($.expr[":"],{dbf:function(n,t,i){if(i[3]==""||i[3]==null)return $(n).is("[dbf]");var r='[dbf="'+i[3]+'"]';return $(n).is(r)}});$.fn.extend({eInit:function(){return Utils.initEvents(this),this},checked:function(){if(!this.is("label")||!this.is(".checkbox, .radio, .toggle"))return!1;return this.hasClass("checked")?"1":"0"},check:function(n){if(arguments.length==0)return this.checked();var t=this.vrednost();n!=t&&this.click()},promenaVrednosti:function(){if(!app.Config.UseMark_PromenaVrednosti||this.attr("notFoValidation")!=null||this.is("label.checkbox, label.toggle"))return this;var n=this.vrednost();return this.attr("old_val")!=n?this.addValidMark():this.removeValidMark(),this},addMark:function(n,t){if(!($("mark."+n+'[za="'+this.attr("dbf")+'"]').length>0)){arguments.length==0&&(t=!1);this.after('<mark class="'+n+'" za="'+this.attr("dbf")+'"><\/mark>');var i=this.next();i.css("top",this.position().top);i.css("left",this.outerWidth()+this.position().left);t&&i.css("left",this.position().left-12);this.attr("mark_unutra")==null||t||i.css("left",this.outerWidth()+this.position().left-1.5*i.outerWidth());n=="error"&&i.click(function(){$('poruka[greska][Za="'+$(this).attr("za")+'"]').css("display","inline-block");$('poruka[greska][Za="'+$(this).attr("za")+'"]').animate({opacity:1},300)})}},removeMark:function(n,t){arguments.length==1&&this.attr("dbf")!=null&&(t=this.attr("dbf"));$('mark[za="'+t+'"].'+n).remove()},addErrorMark:function(n){var t=app.vratiUserControlu(this);if(t!=null&&t.addErrorMark!=null){t.addErrorMark(n);return}if(this.hasClass("danger")||this.addClass("danger"),this.addMark("error"),$('poruka[greska][Za="'+this.attr("dbf")+'"]').length==0){if(this.after('<poruka greska za="'+this.attr("dbf")+'" class="animated fadeIn">'+n+"<\/poruka>"),setTimeout(function(){$(arguments[0]).addClass("animated fadeOut")},3500,$('poruka[greska][Za="'+this.attr("dbf")+'"]')),setTimeout(function(){$(arguments[0]).removeErrorMark()},4e3,this),app.Config.ErrorPoruke_StalnoVidljive)return;this.focus(function(){$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').css("display","block");$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').animate({opacity:1},300)});this.blur(function(){$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').css("display","none");$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').css("opacity",0)});$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').css("display","none");$('poruka[greska][Za="'+$(this).attr("dbf")+'"]').css("opacity",0)}},removeErrorMark:function(){var n=app.vratiUserControlu($(this));return n!=null&&n.removeErrorMark!=null?n.removeErrorMark():(this.removeClass("danger"),this.hasClass("tooltipstered")&&this.tooltipster("destroy"),$('poruka[greska][Za="'+this.attr("dbf")+'"]').remove(),this.removeMark("error",this.attr("dbf")),this)},addValidMark:function(){this.addClass("valid_input");this.addMark("valid")},removeValidMark:function(){var n=app.vratiUserControlu($(this));return n!=null&&n.removeValidMark!=null?n.removeValidMark():(this.removeClass("valid_input"),this.removeMark("valid",this.attr("dbf")),this)},addChangedValueMark:function(){this.addClass("changed_value")},removeChangedValueMark:function(){return this.removeClass("changed_value"),this},addInfoMark:function(n,t){arguments.length==1&&(t=1);var i=this.attr("dbf")!=null?'Za="'+this.attr("dbf")+'"':"";(i==""||$("poruka[info"+t+"]["+i+"]").length==0&&i!="")&&(this.attr("pre")!=null?this.before("<poruka info"+t+" "+i+">"+n+"<\/poruka>"):this.after("<poruka info"+t+" "+i+">"+n+"<\/poruka>"))},checkRegEx:function(){return this.attr("reg")==null?!0:Utils.checkRegEx(this.attr("reg"),this.vrednost())},tooltip:function(n){arguments.length==1&&this.attr("title",n);this.tooltipster()},initSelect:function(n,t,i){var f,r,u,e;for(arguments.length==1&&(t=!0),f=0;f<this.length;f++){for(r=$(this[f]),r.hasClass("multi")&&(r=r.children().first()),$(r).is("select")||(r=r.find("select").first()),t&&r.html(""),u=0;u<n.length;u++)e=r.attr("placeholder"),u==0&&typeof e!=typeof undefined&&e!==!1&&r.append('<option value=""><\/option>'),r.append('<option value="'+n[u].id.toString()+'">'+n[u].naziv+"<\/option>");arguments.length==3&&r.val(i)}},proveriObaveznaPolja:function(){objs=this.find("[obavezan]:visible:not(.danger)");objs.each(function(){var n=$(this).vrednost();n==""?$(this).addErrorMark($(this).attr("err_obavezno_polje_poruka")==null?app.Config.ErrorPoruke.polje_obavezno:$(this).attr("err_obavezno_polje_poruka")):$(this).removeErrorMark()})},initDBFsByObject:function(n){app.bezProveriValidnosti=!0;for(var t in n)t!=undefined&&($(this).find(":dbf("+t+")").vrednost(n[t]),app.Config.UseMark_PromenaVrednosti&&$(this).attr("old_val",vrednost));app.bezProveriValidnosti=!1},initObjectByDBFs:function(){var t=this.find("[dbf]"),n={};return t.each(function(){var t=$(this).attr("dbf");n[t]=$(this).vrednost()}),n},disable:function(n){n||arguments.length==0?(this.attr("disabled","disabled"),this.find("input, select, textarea, label.checkbox, span, label.radio, label.toggle").attr("disabled","disabled"),this.find('[contenteditable="true"]').attr("contenteditable","false")):(this.removeAttr("disabled"),this.find("input:not([readonly]), select:not([readonly]), textarea:not([readonly]), .select:not([readonly]),  .input:not([readonly]), label.checkbox:not([readonly]), span:not([readonly]), label.radio:not([readonly])").removeAttr("disabled"),this.find('span[contenteditable="false"]:not([readonly])').attr("contenteditable","true"))},renderListInContainer:function(n,t){var i,o,h,f,e,r,u,s,c;if(t.length!=0){for(n=$(n),this.html(""),i=[],o="",n.find("[groupBy]").each(function(){i.push({grupa:$(this).attr("groupBy"),nivo:$(this).attr("groupLevel"),render:$(this).html(),niz:[],sort:$(this).attr("groupSort")==undefined?"asc":$(this).attr("groupSort"),valueType:$(this).attr("groupValueType")==undefined?" string ":$(this).attr("groupValueType")})}),i=i.sortBy("nivo number"),r=i.length-1;r>=0;r--)o+=i[r].grupa+" "+i[r].valueType+" "+i[r].sort+",";for(n.find("[sortBy]").length>0&&(h=n.find("[sortBy]").first(),o+=h.attr("sortBy")+" "+(h.attr("groupValueType")==undefined?" string ":h.attr("groupValueType"))+" "+(h.attr("groupSort")==undefined?"asc":h.attr("groupSort"))+","),o!=""&&(o=(o+"|").replace(",|","")),t=t.sortBy(o),r=0;r<i.length;r++)i[r].poslVred=t[0][i[r].grupa];for(n.find("[detail]").length>0&&(n=n.find("[detail]")),f=!1,e=[],r=0;r<=t.length;r++){for(r==t.length&&(f=!0,r=r-1),u=0;u<i.length;u++)(i[u].poslVred!=t[r][i[u].grupa]||f)&&(f&&e.length>0&&(u=0),u>0&&i[u].poslVred!=t[r][i[u].grupa]&&e.length>0&&(u=0),s=Utils.replaceKeys(i[u].render,f?t[r]:t[r-1]),u==0?e.length>0&&(s=s.replace("{zapis}",e.join("")),i[0].niz.push(s),f||(i[0].poslVred=t[r][i[u].grupa]),e=[]):(s=s.replace("{zapis}",i[u-1].niz.join("")),i[u].niz.push(s),f||(i[u].poslVred=t[r][i[u].grupa]),i[u-1].niz=[]));if(f)break;c=Utils.replaceKeys(n.html(),t[r]);e.push(c)}i.length>0?this.append(i[i.length-1].niz.join("")):this.append(e);this.html(this.html().replaceAll("_src","src"));this.eInit()}},vrednost:function(n){if(arguments.length==0){var i=app.vratiUserControlu(this),t="";return i!=null?i.vrednost():($(this).is("label.checkbox, label.radio, label.toggle")&&(t=$(this).checked()),$(this).is(".multi.select")&&(t=this.find("select").val()==null?"":JSON.stringify(this.find("select").val())),$(this).is(".select:not(.multi)")&&(t=this.find("select").val()=="-1"?"":this.find("select").val()),$(this).is("img")&&(t=$(this).attr("src")),$(this).is("input.input, textarea.input")&&(t=$(this).val()),$(this).is("span.input, div.input, p.input, label:not(.radio), label:not(.checkbox)")&&(t=$(this).text()),$(this).is("span:not(.input), div.content, p:not(.input)")&&(t=$(this).html()),t==null&&(t=""),t)}$(this).each(function(){var t=app.vratiUserControlu(this);if(t!=null)return t.vrednost(n);$(this).is("label.checkbox, label.radio, label.toggle")&&$(this).check(n);$(this).is(".multi.select")&&$(this).find("select").val(JSON.parse(n)).trigger("change");$(this).is(".select:not(.multi)")&&$(this).find("select").val(n);$(this).is("img")&&$(this).attr("src",n);$(this).is("input.input")&&$(this).val(n);$(this).is("textarea.input, span.input, div.input, p.input , label:not(.radio), label:not(.checkbox)")&&($(this)[0].innerText=n);$(this).is("span:not(.input), div.content, p:not(.input)")&&$(this).html(n)})},vrednostDB:function(){return this.attr("old_val")},obavezan:function(n){return arguments.length==0?this.is("select")?this.parent().attr("obavezan")!=null:this.attr("obavezan")!=null:(this.each(function(){if(vr=$(this).attr("obavezan")!=null,vr!=n){if(n){$(this).attr("obavezan","");$(this).addMark("obavezan",!0);return}$(this).removeAttr("obavezan");$(this).removeMark("obavezan")}}),this)},izlaz:function(){var t,n;if(!app.bezProveriValidnosti&&(this.isDBF()||this.is("select"))){if(t=app.vratiUserControlu($(this)),t!=null&&t.izlaz!=null)return t.izlaz();if(n=this,this.is("select")&&(n=this.parent()),n.removeErrorMark().removeValidMark().removeChangedValueMark(),n.obavezan()&&n.prazan()){n.addErrorMark($(this).attr("err_obavezno_polje_poruka")==null?app.Config.ErrorPoruke.polje_obavezno:$(this).attr("err_obavezno_polje_poruka"));return}if(!n.checkRegEx()){n.addErrorMark(n.addErrorMark($(this).attr("los_regex_format")==null?app.Config.ErrorPoruke.neocekivani_format:$(this).attr("los_regex_format")));return}app.Config.UseMark_PromenaVrednosti&&n.vrednostDB()!=n.vrednost()&&n.addChangedValueMark();app.Config.UseMark_ValidInput&&n.addValidMark()}},prazan:function(){return this.vrednost()==""},validacija:function(){var n;for(this.proveriObaveznaPolja(),n=0;n<app.UserControls.length;n++)app.UserControls[n].validacija!=null&&app.UserControls[n].validacija();for(n=0;n<app.ValidacionaPravila.length;n++)app.ValidacionaPravila[n]();return b=this.find(".danger").length==0},heightAdjust:function(){this[0].style.height="1px";this[0].style.height=this[0].scrollHeight+"px"},isDBF:function(){return this.is(":dbf")}});String.prototype.replaceAll=function(n,t){return this.split(n).join(t)};String.prototype.vratiDatum=function(){var i,t,n,r;return this.indexOf(".")>0?(t=this.split(" "),t.length==1&&(t[1]="00:00"),n=t[0].split("."),r=t[1].split(":"),date=n[1]+"."+n[0]+"."+n[2],i=new Date(n[2],n[1]-1,n[0],r[0],r[1])):i=new Date(this),i};Array.prototype.filtriraj=function(n,t,i){var u,f,r;for(arguments.length==2&&(i=!1),u=[],f=0;f<this.length;f++)r=this[f],r[n]==t&&i==!1&&u.push(r),r[n]!=undefined&&r[n].toString().toUpperCase().indexOf(t.toString().toUpperCase())!=-1&&i==!0&&u.push(r);return u};Array.prototype.sortBy=function(n){var i,t;if(this.length<=1||n=="")return this;for(t=0;t<this.length;t++)this[t].sortComplexValue=SortUtils.formComplexValue(n,this[t]);for(i=this.sort(SortUtils.sortAsComplex),t=0;t<i.length;t++)delete i[t].sortComplexValue;return i};window.Utils=new t;window.SortUtils=new r;window.ULGenerator=new u;window.app=new i})();$.ajaxSetup({sls:!1,loading:!1});$(document).ajaxSend(function(n,t,i){i.sls&&(i.loading=!0,setTimeout(function(){i.loading&&popup()},1e3))});$(document).ajaxComplete(function(n,t,i){i.sls&&popupHide();i.loading=!1});(typeof HTMLElement!="undefined"?HTMLElement.prototype:Element.prototype).Index=function(){return $(this).parent().children().index($(this))};var fUkloniContextMenu=function(){$("body").is(".context_menu_active")&&($(".context_menu_container.active").removeClass("active"),$("body.context_menu_active > .context_menu").remove(),$("body.context_menu_active").removeClass("context_menu_active"))};document.addEventListener&&document.addEventListener("click",fUkloniContextMenu);
/*
//# sourceMappingURL=eUtils.min.js.map
*/